(this["webpackJsonpdzdp-react"]=this["webpackJsonpdzdp-react"]||[]).push([[7],{111:function(e,n,t){},112:function(e,n,t){},113:function(e,n,t){},114:function(e,n,t){},119:function(e,n,t){"use strict";t.r(n);var r=t(18),c=t(19),s=t(21),a=t(20),i=t(4),o=t(1),d=t(44),l=t(6),m=t(24),u=t(43),j=(t(111),function(e){Object(s.a)(t,e);var n=Object(a.a)(t);function t(){var e;Object(r.a)(this,t);for(var c=arguments.length,s=new Array(c),a=0;a<c;a++)s[a]=arguments[a];return(e=n.call.apply(n,[this].concat(s))).handleCommentChange=function(n){e.props.onCommentChange(n.target.value)},e}return Object(c.a)(t,[{key:"render",value:function(){var e=this.props,n=e.data,t=n.title,r=n.statusText,c=n.orderPicUrl,s=n.channel,a=n.text,o=n.type,d=n.commentId,l=e.isCommenting;return Object(i.jsxs)("div",{className:"orderItem",children:[Object(i.jsx)("div",{className:"orderItem__title",children:Object(i.jsx)("span",{children:t})}),Object(i.jsxs)("div",{className:"orderItem__main",children:[Object(i.jsxs)("div",{className:"orderItem__imgWrapper",children:[Object(i.jsx)("div",{className:"orderItem__tag",children:r}),Object(i.jsx)("img",{className:"orderItem__img",src:c,alt:""})]}),Object(i.jsxs)("div",{className:"orderItem__content",children:[Object(i.jsx)("div",{className:"orderItem__line",children:a[0]}),Object(i.jsx)("div",{className:"orderItem__line",children:a[1]})]})]}),Object(i.jsxs)("div",{className:"orderItem__bottom",children:[Object(i.jsx)("div",{className:"orderItem__type",children:s}),Object(i.jsxs)("div",{children:[1!==o||d?null:Object(i.jsx)("div",{className:"orderItem__btn",onClick:this.props.onComment,children:"\u8bc4\u4ef7"}),Object(i.jsx)("div",{className:"orderItem__btn",onClick:this.props.onRemove,children:"\u5220\u9664"})]})]}),l?this.renderEditArea():null]})}},{key:"renderEditArea",value:function(){return Object(i.jsxs)("div",{className:"orderItem__commentContainer",children:[Object(i.jsx)("textarea",{className:"orderItem__comment",onChange:this.handleCommentChange,value:this.props.comment}),this.renderStars(),Object(i.jsx)("button",{className:"orderItem__commentBtn",onClick:this.props.onSubmitComment,children:"\u63d0\u4ea4"}),Object(i.jsx)("button",{className:"orderItem__commentBtn",onClick:this.props.onCancelComment,children:"\u53d6\u6d88"})]})}},{key:"renderStars",value:function(){var e=this,n=this.props.stars;return Object(i.jsx)("div",{children:[1,2,3,4,5].map((function(t,r){var c=n>=t?"orderItem__star--light":"";return Object(i.jsx)("span",{className:"orderItem__star "+c,onClick:e.props.onStarsChange.bind(e,t),children:"\u2605"},r)}))})}}]),t}(o.Component)),h=(t(112),function(e){Object(s.a)(t,e);var n=Object(a.a)(t);function t(){return Object(r.a)(this,t),n.apply(this,arguments)}return Object(c.a)(t,[{key:"render",value:function(){var e=this.props,n=e.content,t=e.onCancel,r=e.onConfirm,c=e.confirmText,s=e.cancelText;return Object(i.jsx)("div",{className:"confirm",children:Object(i.jsxs)("div",{className:"confirm__alert",children:[Object(i.jsx)("div",{className:"confirm__content",children:n}),Object(i.jsxs)("div",{className:"confirm__btns",children:[Object(i.jsx)("a",{className:"confirm__btn",onClick:t,children:s}),Object(i.jsx)("a",{className:"confirm__btn",onClick:r,children:c})]})]})})}}]),t}(o.Component)),b=(t(113),["\u5168\u90e8\u8ba2\u5355","\u5f85\u4ed8\u6b3e","\u53ef\u4f7f\u7528","\u9000\u6b3e/\u552e\u540e"]),p=function(e){Object(s.a)(t,e);var n=Object(a.a)(t);function t(){var e;Object(r.a)(this,t);for(var c=arguments.length,s=new Array(c),a=0;a<c;a++)s[a]=arguments[a];return(e=n.call.apply(n,[this].concat(s))).handleClickTab=function(n){e.props.userActions.setCurrentTab(n)},e.renderOrderList=function(n){var t=e.props,r=t.commentingOrderId,c=t.orderComment,s=t.orderStars;return n.map((function(n){return Object(i.jsx)(j,{data:n,onRemove:e.handleRemove.bind(Object(d.a)(e),n.id),isCommenting:n.id===r,comment:n.id===r?c:"",stars:n.id===r?s:0,onCommentChange:e.handleCommentChange,onStarsChange:e.handleStarsChange,onComment:e.handleComment.bind(Object(d.a)(e),n.id),onSubmitComment:e.handleSubmitComment,onCancelComment:e.handleCancelComment},n.id)}))},e.renderEmpty=function(){return Object(i.jsxs)("div",{className:"userMain__empty",children:[Object(i.jsx)("div",{className:"userMain__emptyIcon"}),Object(i.jsx)("div",{className:"userMain__emptyText1",children:"\u60a8\u8fd8\u6ca1\u6709\u76f8\u5173\u8ba2\u5355"}),Object(i.jsx)("div",{className:"userMain__emptyText2",children:"\u53bb\u901b\u901b\u770b\u6709\u54ea\u4e9b\u60f3\u4e70\u7684"})]})},e.renderConfirmDialog=function(){var n=e.props.userActions,t=n.hideDeleteDialog,r=n.removeOrder;return Object(i.jsx)(h,{content:"\u786e\u5b9a\u5220\u9664\u8be5\u8ba2\u5355\u5417?",cancelText:"\u53d6\u6d88",confirmText:"\u786e\u5b9a",onCancel:t,onConfirm:r})},e.handleSubmitComment=function(){(0,e.props.userActions.submitComment)()},e.handleCancelComment=function(){(0,e.props.userActions.hideCommentArea)()},e.handleComment=function(n){(0,e.props.userActions.showCommentArea)(n)},e.handleStarsChange=function(n){(0,e.props.userActions.setStars)(n)},e.handleCommentChange=function(n){(0,e.props.userActions.setComment)(n)},e.handleRemove=function(n){e.props.userActions.showDeleteDialog(n)},e}return Object(c.a)(t,[{key:"render",value:function(){var e=this,n=this.props,t=n.currentTab,r=n.data,c=n.deletingOrderId;return Object(i.jsxs)("div",{className:"userMain",children:[Object(i.jsx)("div",{className:"userMain__menu",children:b.map((function(n,r){return Object(i.jsx)("div",{className:"userMain__tab",onClick:e.handleClickTab.bind(e,r),children:Object(i.jsx)("span",{className:t===r?"userMain__title userMain__title--active":"userMain__title",children:n})},r)}))}),Object(i.jsx)("div",{className:"userMain__content",children:r&&r.length>0?this.renderOrderList(r):this.renderEmpty()}),c?this.renderConfirmDialog():null]})}}]),t}(o.Component),O=Object(m.b)((function(e,n){return{currentTab:Object(u.f)(e),deletingOrderId:Object(u.g)(e),commentingOrderId:Object(u.c)(e),orderComment:Object(u.d)(e),orderStars:Object(u.e)(e)}}),(function(e){return{userActions:Object(l.b)(u.a,e)}}))(p),_=(t(114),function(e){Object(s.a)(t,e);var n=Object(a.a)(t);function t(){return Object(r.a)(this,t),n.apply(this,arguments)}return Object(c.a)(t,[{key:"render",value:function(){var e=this.props,n=e.onBack,t=e.onLogout;return Object(i.jsxs)("header",{className:"userHeader",children:[Object(i.jsx)("div",{className:"userHeader__back",onClick:n,children:"\u9996\u9875"}),Object(i.jsxs)("div",{className:"userHeader__list",children:[Object(i.jsx)("span",{className:"userHeader__item userHeader__item--selected",children:"\u8ba2\u5355"}),Object(i.jsx)("span",{className:"userHeader__item",children:"\u62b5\u7528\u5238"})]}),Object(i.jsx)("div",{className:"userHeader__right",onClick:t,children:"\u6ce8\u9500"})]})}}]),t}(o.Component)),v=t(28),C=function(e){Object(s.a)(t,e);var n=Object(a.a)(t);function t(){var e;Object(r.a)(this,t);for(var c=arguments.length,s=new Array(c),a=0;a<c;a++)s[a]=arguments[a];return(e=n.call.apply(n,[this].concat(s))).handleBack=function(){e.props.history.push("/")},e.handleLogout=function(){e.props.loginActions.logout()},e}return Object(c.a)(t,[{key:"render",value:function(){var e=this.props.orders;return Object(i.jsxs)("div",{children:[Object(i.jsx)(_,{onBack:this.handleBack,onLogout:this.handleLogout}),Object(i.jsx)(O,{data:e})]})}},{key:"componentDidMount",value:function(){this.props.userActions.loadOrders()}}]),t}(o.Component);n.default=Object(m.b)((function(e,n){return{orders:Object(u.h)(e),currentTab:Object(u.f)(e)}}),(function(e){return{userActions:Object(l.b)(u.a,e),loginActions:Object(l.b)(v.a,e)}}))(C)}}]);
//# sourceMappingURL=7.52b7a86f.chunk.js.map