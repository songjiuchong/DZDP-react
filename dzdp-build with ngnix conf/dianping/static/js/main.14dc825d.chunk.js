(this["webpackJsonpdzdp-react"]=this["webpackJsonpdzdp-react"]||[]).push([[0],[,,,,,,,function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"h",(function(){return O})),n.d(t,"d",(function(){return b})),n.d(t,"f",(function(){return h}));var r=n(31),c=n(51),u=n(2),o=n(0),i=n(15),a={name:"orders",id:"id"},s=2,d=3,f=4,O={DELETE_ORDER:"ORDERS/DELETE_ORDER",ADD_COMMENT:"ORDERS/ADD_COMMENT",ADD_ORDER:"ORDERS/ADD_ORDER"},l=10,b={deleteOrder:function(e){return{type:O.DELETE_ORDER,orderId:e}},addComment:function(e,t){return{type:O.ADD_COMMENT,orderId:e,commentId:t}},addOrder:function(e){var t="o-".concat(l++);return{type:O.ADD_ORDER,orderId:t,order:Object(o.a)(Object(o.a)({},e),{},{id:t})}}},p=Object(i.a)(a.name);t.e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.type===O.ADD_COMMENT)return Object(o.a)(Object(o.a)({},e),{},Object(u.a)({},t.orderId,Object(o.a)(Object(o.a)({},e[t.orderId]),{},{commentId:t.commentId})));if(t.type===O.ADD_ORDER)return Object(o.a)(Object(o.a)({},e),{},Object(u.a)({},t.orderId,t.order));if(t.type===O.DELETE_ORDER){var n=t.orderId,i=(e[n],Object(r.a)(e,[n].map(c.a)));return i}return p(e,t)};var h=function(e){return e.entities.orders}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(2),c=n(50),u=n(0),o=new Headers({Accept:"application/json","Content-Type":"application/json"});function i(e,t){return 200===t.status?t.json():(console.error("Request failed. Url= ".concat(e,".")),Promise.reject({error:{message:"Request failed due to server error"}}))}var a="FETCH_DATA",s=function(e,t){return(n=e,fetch(n,{method:"GET",headers:o}).then((function(e){return i(n,e)})).catch((function(e){return console.error("Request failed. Url= ".concat(n,". Message=").concat(e)),Promise.reject({error:{message:"Request failed."}})}))).then((function(e){return d(e,t)}));var n},d=function(e,t){var n,c=t.id,u=t.name,o={},i=[];return Array.isArray(e)?e.forEach((function(e){o[e[c]]=e,i.push(e[c])})):(o[e[c]]=e,i.push(e[c])),n={},Object(r.a)(n,u,o),Object(r.a)(n,"ids",i),n};t.b=function(e){return function(e){return function(t){var n=t[a];if("undefined"===typeof n)return e(t);var r=n.endpoint,o=n.schema,i=n.types;if("string"!==typeof r)throw new Error("endpoint must be string");if(!o)throw new Error("must exist");if(!Array.isArray(i)&&3!==i.length)throw new Error("type error");if(!i.every((function(e){return"string"===typeof e})))throw new Error("type error");var d=function(e){var n=Object(u.a)(Object(u.a)({},t),e);return delete n[a],n},f=Object(c.a)(i,3),O=f[0],l=f[1],b=f[2];return e(d({type:O})),s(r,o).then((function(t){return e(d({type:l,response:t}))}),(function(t){return e(d({type:b,error:t.message||"\u83b7\u53d6\u6570\u636e\u5931\u8d25"}))}))}}}},,,function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n(15),c={name:"products",id:"id"},u=Object(r.a)(c.name);t.a=u;var o=function(e,t){var n=e.entities.products[t];return n&&n.detail&&n.purchaseNotes?n:null},i=function(e,t){return e.entities.products[t]}},function(e,t,n){"use strict";t.a={getProductList:function(e,t,n){return"/mock/products/".concat(e,".json?rowIndex=").concat(t,"&pageIsze=").concat(n)},getProductDetail:function(e){return"/mock/product_detail/".concat(e,".json")},getShopById:function(e){return"/mock/shops/".concat(e,".json")},getPopularKeywords:function(){return"/mock/keywords/popular.json"},getRelatedKeywords:function(e){return"/mock/keywords/related.json?keyword=".concat(e)},getRelatedShops:function(e){return"/mock/shops/related.json?keyword=".concat(e)},getOrders:function(){return"/mock/orders/orders.json"}}},,function(e,t,n){"use strict";var r=n(0);t.a=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return n.response&&n.response[e]?Object(r.a)(Object(r.a)({},t),n.response[e]):t}}},,function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n(15),c={name:"keywords",id:"id"},u=Object(r.a)(c.name);t.a=u;var o=function(e,t){return e.entities.keywords[t]},i=function(e){return e.entities.keywords}},,,,,function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return o}));var r=n(15),c={name:"shops",id:"id"},u=Object(r.a)(c.name);t.a=u;var o=function(e){return e.entities.shops}},,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"e",(function(){return E}));var r=n(0),c={username:localStorage.getItem("username")||"",password:"",isFetching:!1,status:localStorage.getItem("login")||!1},u="LOGIN/LOGIN_REQUEST",o="LOGIN/LOGIN_SUCCESS",i="LOGIN/LOGIN_FAILURE",a="LOGIN/LOGOUT",s="LOGIN/SET_USERNAME",d="LOGIN/SET_PASSWORD",f={login:function(){return function(e,t){var n=t().login,r=n.username,c=n.password;return r&&r.length>0&&c&&c.length>0?(e(O()),new Promise((function(t,n){setTimeout((function(){e(l()),localStorage.setItem("username",r),localStorage.setItem("login",!0),t()}),1e3)}))):e(b("\u7528\u6237\u540d\u548c\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a!"))}},logout:function(){return localStorage.removeItem("username"),localStorage.removeItem("login"),{type:a}},setUsername:function(e){return{type:s,username:e}},setPassword:function(e){return{type:d,password:e}}},O=function(){return{type:u}},l=function(){return{type:o}},b=function(e){return{type:i,error:e}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!0});case o:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,status:!0});case i:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1});case a:return Object(r.a)(Object(r.a)({},e),{},{status:!1,username:"",password:""});case s:return Object(r.a)(Object(r.a)({},e),{},{username:t.username});case d:return Object(r.a)(Object(r.a)({},e),{},{password:t.password});default:return e}};var p=function(e){return e.login.username},h=function(e){return e.login.password},E=function(e){return e.login.status}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2),c=n(0),u=n(15),o="COMMENT/ADD_COMMENT",i={addComment:function(e){return{type:o,comment:e}}},a=Object(u.a)("comments");t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===o?Object(c.a)(Object(c.a)({},e),{},Object(r.a)({},t.comment.id,t.comment)):a(e,t)}},,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return g}));var r=n(0),c=n(2),u=n(9),o=n(22),i=n(12),a=n(6),s=n(13),d=n(16),f="DETAIL/FETCH_PRODUCT_DETAIL_REQUEST",O="DETAIL/FETCH_PRODUCT_DETAIL_SUCCESS",l="DETAIL/FETCH_PRODUCT_DETAIL_FAILURE",b="DETAIL/FETCH_SHOP_REQUEST",p="DETAIL/FETCH_SHOP_SUCCESS",h="DETAIL/FETCH_SHOP_FAILURE",E={product:{isFetching:!1,id:null},relatedShop:{isFetching:!1,id:null}},j={loadProductDetail:function(e){return function(t,n){var r=s.a.getProductDetail(e);return t(m(r,e))}},loadShopById:function(e){return function(t,n){var r=s.a.getShopById(e);return t(y(r,e))}}},m=function(e,t){var n;return n={},Object(c.a)(n,u.a,{types:[f,O,l],endpoint:e,schema:i.d}),Object(c.a)(n,"id",t),n},y=function(e,t){var n;return n={},Object(c.a)(n,u.a,{types:[b,p,h],endpoint:e,schema:o.c}),Object(c.a)(n,"id",t),n},S=Object(a.c)({product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E.product,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!0});case O:return Object(r.a)(Object(r.a)({},e),{},{id:t.id,isFetching:!1});case l:return Object(r.a)(Object(r.a)({},e),{},{id:null,isFetching:!1});default:return e}},relatedShop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E.relatedShop,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!0});case p:return Object(r.a)(Object(r.a)({},e),{},{id:t.id,isFetching:!1});case h:return Object(r.a)(Object(r.a)({},e),{},{id:null,isFetching:!1});default:return e}}});t.b=S;var v=function(e,t){return Object(i.c)(e,t)},g=Object(d.a)([i.b,o.b],(function(e,t){var n=e?e.nearestShop:null;return n?t[n]:null}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"f",(function(){return F})),n.d(t,"e",(function(){return H})),n.d(t,"g",(function(){return L})),n.d(t,"d",(function(){return P})),n.d(t,"h",(function(){return K})),n.d(t,"c",(function(){return M}));var r=n(49),c=n(0),u=n(2),o=n(13),i=n(9),a=n(17),s=n(22),d=n(6),f=n(16),O="SEARCH/FETCH_POPULAR_KEYWORDS_REQUEST",l="SEARCH/FETCH_POPULAR_KEYWORDS_SUCCESS",b="SEARCH/FETCH_POPULAR_KEYWORDS_FAILURE",p="SEARCH/FETCH_RELATED_KEYWORDS_REQUEST",h="SEARCH/FETCH_RELATED_KEYWORDS_SUCCESS",E="SEARCH/FETCH_RELATED_KEYWORDS_FAILURE",j="SEARCH/SET_INPUT_TEXT",m="SEARCH/CLEAR_INPUT_TEXT",y="SEARCH/ADD_HISTORY_KEYWORD",S="SEARCH/CLEAR_HISTORY_KEYWORDS",v="SEARCH/FETCH_SHOPS_REQUEST",g="SEARCH/FETCH_SHOPS_SUCCESS",R="SEARCH/FETCH_SHOPS_FAILURE",T={inputText:"",popularKeywords:{isFetching:!1,ids:[]},relatedKeywords:{},historyKeywords:[],searchedShopsByKeyword:{}},_={loadPopularKeywords:function(){return function(e,t){if(t().search.popularKeywords.ids.length>0)return null;var n=o.a.getPopularKeywords();return e(C(n))}},loadRelatedKeywords:function(e){return function(t,n){if(n().search.relatedKeywords[e])return null;var r=o.a.getRelatedKeywords(e);return t(D(e,r))}},loadRelatedShops:function(e){return function(t,n){if(n().search.searchedShopsByKeyword[e])return null;var r=o.a.getRelatedShops(e);return t(I(e,r))}},setInputText:function(e){return{type:j,text:e}},clearInputText:function(){return{type:m}},addHistoryKeyword:function(e){return{type:y,text:e}},clearHistoryKeywords:function(){return{type:S}}},C=function(e){return Object(u.a)({},i.a,{types:[O,l,b],endpoint:e,schema:a.d})},D=function(e,t){var n;return n={},Object(u.a)(n,i.a,{types:[p,h,E],endpoint:t,schema:a.d}),Object(u.a)(n,"text",e),n},I=function(e,t){var n;return n={},Object(u.a)(n,i.a,{types:[v,g,R],endpoint:t,schema:s.c}),Object(u.a)(n,"text",e),n},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,ids:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(c.a)(Object(c.a)({},e),{},{isFetching:!0});case h:return Object(c.a)(Object(c.a)({},e),{},{isFetching:!1,ids:e.ids.concat(t.response.ids)});case E:return Object(c.a)(Object(c.a)({},e),{},{isFetching:!1});default:return e}},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,ids:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(c.a)(Object(c.a)({},e),{},{isFetching:!0});case g:return Object(c.a)(Object(c.a)({},e),{},{isFetching:!1,ids:t.response.ids});case R:return Object(c.a)(Object(c.a)({},e),{},{isFetching:!1});default:return e}},U=Object(d.c)({popularKeywords:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T.popularKeywords,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(c.a)(Object(c.a)({},e),{},{isFetching:!0});case l:return Object(c.a)(Object(c.a)({},e),{},{isFetching:!1,ids:e.ids.concat(t.response.ids)});case b:return Object(c.a)(Object(c.a)({},e),{},{isFetching:!1});default:return e}},relatedKeywords:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T.relatedKeywords,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:case h:case E:return Object(c.a)(Object(c.a)({},e),{},Object(u.a)({},t.text,w(e[t.text],t)));default:return e}},inputText:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T.inputText,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return t.text;case m:return"";default:return e}},historyKeywords:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T.historyKeywords,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:var n=e.filter((function(e){return e!==t.text}));return[t.text].concat(Object(r.a)(n));case S:return[];default:return e}},searchedShopsByKeyword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T.searchedShopsByKeyword,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:case g:case R:return Object(c.a)(Object(c.a)({},e),{},Object(u.a)({},t.text,A(e[t.text],t)));default:return e}}});t.b=U;var F=function(e){return e.search.popularKeywords.ids.map((function(t){return Object(a.c)(e,t)}))},H=function(e){return e.search.inputText},L=Object(f.a)([H,function(e){return e.search.relatedKeywords},a.b],(function(e,t,n){if(!e||0===e.trim().length)return[];var r=t[e];return r?r.ids.map((function(e){return n[e]})):[]})),P=function(e){return e.search.historyKeywords.map((function(t){return Object(a.c)(e,t)}))},x=function(e){return e.search.historyKeywords},K=Object(f.a)([x,function(e){return e.search.searchedShopsByKeyword},s.b],(function(e,t,n){var r=t[e[0]];return r?r.ids.map((function(e){return n[e]})):[]})),M=Object(f.a)([x,a.b],(function(e,t){var n=e[0];if(!n)return"";var r=t[n];return r?r.keyword:""}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"f",(function(){return K})),n.d(t,"h",(function(){return M})),n.d(t,"g",(function(){return k})),n.d(t,"c",(function(){return N})),n.d(t,"d",(function(){return Q})),n.d(t,"e",(function(){return G}));var r,c=n(0),u=n(2),o=n(13),i=n(9),a=n(7),s=n(32),d=n(6),f=n(16),O=(r={},Object(u.a)(r,a.c,"toPayIds"),Object(u.a)(r,a.a,"availableIds"),Object(u.a)(r,a.b,"refundIds"),r),l={orders:{isFetching:!1,fetched:!1,ids:[],toPayIds:[],availableIds:[],refundIds:[]},currentTab:0,currentOrder:{id:null,isDeleting:!1,isCommenting:!1,comment:"",stars:0}},b="USER/FETCH_ORDERS_REQUEST",p="USER/FETCH_ORDERS_SUCCESS",h="USER/FETCH_ORDERS_FAILURE",E="USER/SET_CURRENT_TAB",j="USER/DELETE_ORDERS_REQUEST",m="USER/DELETE_ORDERS_SUCCESS",y="USER/DELETE_ORDERS_FAILURE",S="USER/SHOW_DELETE_DIALOG",v="USER/HIDE_DELETE_DIALOG",g="USER/SHOW_COMMENT_AREA",R="USER/HIDE_COMMENT_AREA",T="USER/SET_COMMENT",_="USER/SET_STARS",C="USER/POST_COMMENT_REQUEST",D="USER/POST_COMMENT_SUCCESS",I="USER/POST_COMMENT_FAILURE",w={loadOrders:function(){return function(e,t){if(t().user.orders.fetched)return null;var n=o.a.getOrders();return e(L(n))}},setCurrentTab:function(e){return{type:E,index:e}},removeOrder:function(){return function(e,t){var n=t().user.currentOrder.id;if(n)return e(F()),new Promise((function(t,r){setTimeout((function(){e(H(n)),e(a.d.deleteOrder(n)),t()}),500)}))}},showDeleteDialog:function(e){return{type:S,orderId:e}},hideDeleteDialog:function(){return{type:v}},showCommentArea:function(e){return{type:g,orderId:e}},hideCommentArea:function(){return{type:R}},setComment:function(e){return{type:T,comment:e}},setStars:function(e){return{type:_,stars:e}},submitComment:function(){return function(e,t){return e(A()),new Promise((function(n,r){setTimeout((function(){var r=t().user.currentOrder,c=r.id,u=r.stars,o=r.comment,i={id:+new Date,stars:u,content:o};e(U()),e(s.a.addComment(i)),e(a.d.addComment(c,i.id)),n()}),500)}))}}},A=function(){return{type:C}},U=function(){return{type:D}},F=function(){return{type:j}},H=function(e){return{type:m,orderId:e}},L=function(e){return Object(u.a)({},i.a,{types:[b,p,h],endpoint:e,schema:a.g})},P=function(e,t,n){return e[t].filter((function(e){return e!==n}))},x=Object(d.c)({orders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.orders,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(c.a)(Object(c.a)({},e),{},{isFetching:!0});case p:var n=t.response.ids.filter((function(e){return t.response.orders[e].type===a.c})),r=t.response.ids.filter((function(e){return t.response.orders[e].type===a.a})),o=t.response.ids.filter((function(e){return t.response.orders[e].type===a.b}));return Object(c.a)(Object(c.a)({},e),{},{isFetching:!1,fetched:!0,ids:e.ids.concat(t.response.ids),toPayIds:e.toPayIds.concat(n),availableIds:e.availableIds.concat(r),refundIds:e.refundIds.concat(o)});case a.h.DELETE_ORDER:case m:return Object(c.a)(Object(c.a)({},e),{},{ids:P(e,"ids",t.orderId),toPayIds:P(e,"toPayIds",t.orderId),availableIds:P(e,"availableIds",t.orderId),refundIds:P(e,"refundIds",t.orderId)});case a.h.ADD_ORDER:var i=t.order,s=O[i.type];return s?Object(c.a)(Object(c.a)({},e),{},Object(u.a)({ids:[i.id].concat(e.ids)},s,[i.id].concat(e[s]))):Object(c.a)(Object(c.a)({},e),{},{ids:[i.id].concat(e.ids)});default:return e}},currentTab:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.currentTab,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return t.index;default:return e}},currentOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.currentOrder,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(c.a)(Object(c.a)({},e),{},{id:t.orderId,isDeleting:!0});case v:case m:case y:case R:case D:case I:return l.currentOrder;case g:return Object(c.a)(Object(c.a)({},e),{},{id:t.orderId,isCommenting:!0});case T:return Object(c.a)(Object(c.a)({},e),{},{comment:t.comment});case _:return Object(c.a)(Object(c.a)({},e),{},{stars:t.stars});default:return e}}});t.b=x;var K=function(e){return e.user.currentTab},M=Object(f.a)([K,function(e){return e.user.orders},a.f],(function(e,t,n){t[["ids","toPayIds","availableIds","refundIds"][e]].map((function(e){return n[e]}))})),k=function(e){return e.user.currentOrder&&e.user.currentOrder.isDeleting?e.user.currentOrder.id:null},N=function(e){return e.user.currentOrder&&e.user.currentOrder.isCommenting?e.user.currentOrder.id:null},Q=function(e){return e.user.currentOrder?e.user.currentOrder.comment:""},G=function(e){return e.user.currentOrder?e.user.currentOrder.stars:0}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return R})),n.d(t,"c",(function(){return T})),n.d(t,"e",(function(){return _}));var r=n(0),c=n(2),u=n(13),o=n(9),i=n(12),a=n(6),s="HOME/FETCH_LIKES_REQUEST",d="HOME/FETCH_LIKES_SUCCEED",f="HOME/FETCH_LIKES_FAILURE",O="HOME/FETCH_DISCOUNTS_REQUEST",l="HOME/FETCH_DISCOUNTS_SUCCEED",b="HOME/FETCH_DISCOUNTS_FAILURE",p="likes",h="discounts",E=5,j=3,m={loadLikes:function(){return function(e,t){var n=t().home.likes.pageCount*E,r=u.a.getProductList(p,n,E);return e(y(r))}},loadDiscounts:function(){return function(e,t){if(t().home.discounts.ids.length>0)return null;var n=u.a.getProductList(h,0,j);return e(S(n))}}},y=function(e){return Object(c.a)({},o.a,{types:[s,d,f],endpoint:e,schema:i.d})},S=function(e){return Object(c.a)({},o.a,{types:[O,l,b],endpoint:e,schema:i.d})},v={likes:{isFetching:!1,pageCount:0,ids:[]},discounts:{isFetching:!1,ids:[]}},g=Object(a.c)({likes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.likes,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!0});case d:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,pageCount:e.pageCount+1,ids:e.ids.concat(t.response.ids)});case f:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1});default:return e}},discounts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.discounts,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!0});case l:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1,ids:e.ids.concat(t.response.ids)});case b:return Object(r.a)(Object(r.a)({},e),{},{isFetching:!1});default:return e}}});t.b=g;var R=function(e){return e.home.likes.ids.map((function(t){return e.entities.products[t]}))},T=function(e){return e.home.discounts.ids.map((function(t){return e.entities.products[t]}))},_=function(e){return e.home.likes.pageCount}},function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return b})),n.d(t,"c",(function(){return p})),n.d(t,"f",(function(){return h}));var r=n(0),c=n(16),u=n(12),o=n(7),i="PURCHASE/SET_ORDER_QUANTITY",a="PURCHASE/CLOSE_TIP",s="PURCHASE/SUBMIT_ORDER_REQUEST",d="PURCHASE/SUBMIT_ORDER_SUCCESS",f={quantity:1,showTip:!1},O={setOrderQuantity:function(e){return{type:i,quantity:e}},closeTip:function(){return{type:a}},submitOrder:function(e){return function(t,n){return t({type:s}),new Promise((function(r,c){setTimeout((function(){var c=Object(u.c)(n(),e),i=n().purchase.quantity,a=(c.currentPrice*i).toFixed(1),s="".concat(i,"\u5f20 | \u603b\u4ef7\uff1a ").concat(a),f=c.validityPeriod,O={title:"".concat(c.shop,":").concat(c.product),orderPicUrl:c.picture,channel:"\u56e2\u8d2d",statusText:"\u5f85\u6d88\u8d39",text:[s,f],type:o.a};t(o.d.addOrder(O)),t({type:d}),r()}),500)}))}}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:return Object(r.a)(Object(r.a)({},e),{},{quantity:t.quantity});case a:return Object(r.a)(Object(r.a)({},e),{},{showTip:!1});case d:return Object(r.a)(Object(r.a)({},e),{},{showTip:!0});default:return e}};var l=function(e){return e.purchase.quantity},b=function(e){return e.purchase.showTip},p=function(e,t){return Object(u.c)(e,t)},h=Object(c.a)([p,l],(function(e,t){return e?(e.currentPrice*t).toFixed(1):0}))},,,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(4),c=n(1),u=n.n(c),o=n(29),i=n.n(o),a=n(24),s=n(18),d=n(19),f=n(21),O=n(20),l=(n(61),function(e){Object(f.a)(n,e);var t=Object(O.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props.msg;return Object(r.jsx)("div",{className:"errorToast",children:Object(r.jsx)("div",{className:"errorToast_text",children:e})})}},{key:"componentDidMount",value:function(){var e=this;this.timer=setTimeout((function(){e.props.clearError()}),3e3)}},{key:"componentWillUnmount",value:function(){this.timer&&clearTimeout(this.timer)}}]),n}(c.Component)),b=n(0),p={error:null},h="APP/CLEAR_ERROR",E={clearError:function(){return{type:h}}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.error;return n===h?Object(b.a)(Object(b.a)({},e),{},{error:null}):r?Object(b.a)(Object(b.a)({},e),{},{error:r}):e},m=function(e){return e.app.error};function y(e){return function(t){Object(f.a)(c,t);var n=Object(O.a)(c);function c(e){var t;return Object(s.a)(this,c),(t=n.call(this,e)).state={component:null},t}return Object(d.a)(c,[{key:"componentDidMount",value:function(){var t=this;e().then((function(e){t.setState({component:e.default})}))}},{key:"render",value:function(){var e=this.state.component;return e?Object(r.jsx)(e,Object(b.a)({},this.props)):null}}]),c}(c.Component)}var S=n(6),v=n(34),g=n(5),R=n(31),T=n(28),_=function(e){Object(f.a)(n,e);var t=Object(O.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.login,c=Object(R.a)(e,["component","login"]);return Object(r.jsx)(g.b,Object(b.a)(Object(b.a)({},c),{},{render:function(e){return n?Object(r.jsx)(t,Object(b.a)({},e)):Object(r.jsx)(g.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}}]),n}(c.Component),C=Object(a.b)((function(e,t){return{login:Object(T.e)(e)}}),null)(_),D=y((function(){return Promise.all([n.e(4),n.e(3)]).then(n.bind(null,117))})),I=y((function(){return n.e(9).then(n.bind(null,121))})),w=y((function(){return n.e(10).then(n.bind(null,123))})),A=y((function(){return n.e(5).then(n.bind(null,118))})),U=y((function(){return n.e(6).then(n.bind(null,120))})),F=y((function(){return n.e(7).then(n.bind(null,119))})),H=y((function(){return n.e(8).then(n.bind(null,122))})),L=function(e){Object(f.a)(n,e);var t=Object(O.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.error,n=e.appActions.clearError;return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(v.a,{children:Object(r.jsxs)(g.d,{children:[Object(r.jsx)(g.b,{path:"/Login",component:w}),Object(r.jsx)(C,{path:"/user",component:F}),Object(r.jsx)(g.b,{path:"/detail/:id",component:A}),Object(r.jsx)(g.b,{path:"/search",component:I}),Object(r.jsx)(g.b,{path:"/search_result",component:U}),Object(r.jsx)(C,{path:"/purchase/:id",component:H}),Object(r.jsx)(g.b,{path:"/",component:D})]})}),t?Object(r.jsx)(l,{msg:t,clearError:n}):null]})}}]),n}(c.Component),P=Object(a.b)((function(e){return{error:m(e)}}),(function(e){return{appActions:Object(S.b)(E,e)}}))(L),x=n(12),K=n(22),M=n(7),k=n(32),N=n(17),Q=Object(S.c)({products:x.a,shops:K.a,orders:M.e,comments:k.b,keywords:N.a}),G=n(45),B=n(41),W=n(42),Y=n(43),q=n(46),z=Object(S.c)({entities:Q,home:G.b,detail:B.b,app:j,search:W.b,login:T.b,user:Y.b,purchase:q.b}),J=n(48),X=n(9),V=Object(S.d)(z,Object(S.a)(J.a,X.b));n(63);i.a.render(Object(r.jsx)(a.a,{store:V,children:Object(r.jsx)(u.a.StrictMode,{children:Object(r.jsx)(P,{})})}),document.getElementById("root"))}],[[64,1,2]]]);
//# sourceMappingURL=main.14dc825d.chunk.js.map