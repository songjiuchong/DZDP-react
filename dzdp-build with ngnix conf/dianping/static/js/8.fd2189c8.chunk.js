(this["webpackJsonpdzdp-react"]=this["webpackJsonpdzdp-react"]||[]).push([[8],{115:function(e,t,a){},116:function(e,t,a){},122:function(e,t,a){"use strict";a.r(t);var c=a(18),s=a(19),r=a(21),n=a(20),i=a(4),o=a(1),l=a(69),u=(a(115),function(e){Object(r.a)(a,e);var t=Object(n.a)(a);function a(){var e;Object(c.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).handleDecrease=function(){var t=e.props.quantity;t>0&&e.props.onSetQuantity(t-1)},e.handleIncrease=function(){var t=e.props.quantity;e.props.onSetQuantity(t+1)},e.handleChange=function(t){var a=t.target.value;e.props.onSetQuantity(Number.parseInt(a))},e.handleClick=function(){e.props.quantity>0&&e.props.onSubmit()},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.quantity,a=e.phone,c=e.totalPrice;return Object(i.jsxs)("div",{className:"purchaseForm",children:[Object(i.jsxs)("div",{className:"purchaseForm__wrapper",children:[Object(i.jsxs)("div",{className:"purchaseForm__row",children:[Object(i.jsx)("div",{className:"purchaseForm__rowLabel",children:"\u6570\u91cf"}),Object(i.jsxs)("div",{className:"purchaseForm__rowBtn",children:[Object(i.jsx)("span",{className:"purchaseForm__counter--dec",onClick:this.handleDecrease,children:"-"}),Object(i.jsx)("input",{className:"purchaseForm__quantity",type:"number",onChange:this.handleChange,value:t}),Object(i.jsx)("span",{className:"purchaseForm__counter--inc",onClick:this.handleIncrease,children:"+"})]})]}),Object(i.jsxs)("div",{className:"purchaseForm__row",children:[Object(i.jsx)("div",{className:"purchaseForm__rowLabel",children:"\u5c0f\u8ba1"}),Object(i.jsx)("div",{className:"purchaseForm__rowValue",children:Object(i.jsx)("span",{className:"purchaseForm__totalPrice",children:"\xa5".concat(c)})})]}),Object(i.jsxs)("div",{className:"purchaseForm__row",children:[Object(i.jsx)("div",{className:"purchaseForm__rowLabel",children:"\u624b\u673a\u53f7\u7801"}),Object(i.jsx)("div",{className:"purchaseForm__rowValue",children:a})]})]}),Object(i.jsxs)("ul",{className:"purchaseForm__remark",children:[Object(i.jsxs)("li",{className:"purchaseForm__remarkItem",children:[Object(i.jsx)("i",{className:"purchaseForm__sign"}),Object(i.jsx)("span",{className:"purchaseForm__desc",children:"\u652f\u6301\u968f\u65f6\u9000"})]}),Object(i.jsxs)("li",{className:"purchaseForm__remarkItem",children:[Object(i.jsx)("i",{className:"purchaseForm__sign"}),Object(i.jsx)("span",{className:"purchaseForm__desc",children:"\u652f\u6301\u8fc7\u671f\u9000"})]})]}),Object(i.jsx)("a",{className:"purchaseForm__submit",onClick:this.handleClick,children:"\u63d0\u4ea4\u8ba2\u5355"})]})}}]),a}(o.Component)),h=(a(116),function(e){Object(r.a)(a,e);var t=Object(n.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.message,a=e.onClose;return Object(i.jsx)("div",{className:"tip",children:Object(i.jsxs)("div",{className:"tip__alert",children:[Object(i.jsx)("div",{className:"tip__content",children:t}),Object(i.jsx)("div",{className:"tip__btns",children:Object(i.jsx)("a",{className:"tip__btn",onClick:a,children:"\u786e\u5b9a"})})]})})}}]),a}(o.Component)),p=a(6),d=a(24),j=a(46),m=a(28),b=a(41),O=function(e){Object(r.a)(a,e);var t=Object(n.a)(a);function a(){var e;Object(c.a)(this,a);for(var s=arguments.length,r=new Array(s),n=0;n<s;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).handleBack=function(){e.props.history.goBack()},e.handleCloseTip=function(){e.props.purchaseActions.closeTip()},e.handleSubmit=function(){var t=e.props.match.params.id;e.props.purchaseActions.submitOrder(t)},e.handleSetQuantity=function(t){e.props.purchaseActions.setOrderQuantity(t)},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.product,a=e.phone,c=e.quantity,s=e.showTip,r=e.totalPrice;return Object(i.jsxs)("div",{children:[Object(i.jsx)(l.a,{title:"\u4e0b\u5355",onBack:this.handleBack}),t?Object(i.jsx)(u,{phone:a,quantity:c,totalPrice:r,onSubmit:this.handleSubmit,onSetQuantity:this.handleSetQuantity}):null,s?Object(i.jsx)(h,{message:"\u8d2d\u4e70\u6210\u529f!",onClose:this.handleCloseTip}):null]})}},{key:"componentDidMount",value:function(){if(!this.props.product){var e=this.props.match.params.id;this.props.detailActions.loadProductDetail(e)}}},{key:"componentWillUnmount",value:function(){this.props.purchaseActions.setOrderQuantity(1)}}]),a}(o.Component);t.default=Object(d.b)((function(e,t){var a=t.match.params.id;return{product:Object(j.c)(e,a),quantity:Object(j.d)(e),showTip:Object(j.e)(e),phone:Object(m.d)(e),totalPrice:Object(j.f)(e,a)}}),(function(e){return{purchaseActions:Object(p.b)(j.a,e),detailActions:Object(p.b)(b.a,e)}}))(O)},69:function(e,t,a){"use strict";var c=a(18),s=a(19),r=a(21),n=a(20),i=a(4),o=a(1),l=(a(70),function(e){Object(r.a)(a,e);var t=Object(n.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.grey,a=e.title,c=e.onBack,s=t?"#f0f0f0":"#fff";return Object(i.jsxs)("header",{className:"header",style:{backgroundColor:s},children:[Object(i.jsx)("div",{className:"header__back",onClick:c,children:"\u8fd4\u56de"}),Object(i.jsx)("div",{className:"header__title",children:a})]})}}]),a}(o.Component));t.a=l},70:function(e,t,a){}}]);
//# sourceMappingURL=8.fd2189c8.chunk.js.map