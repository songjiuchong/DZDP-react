{"version":3,"sources":["containers/Home/components/Category/index.js","containers/Home/components/Headline/index.js","containers/Home/components/Discount/index.js","containers/Home/components/LikeItem/index.js","components/Loading/index.js","containers/Home/components/LikeList/index.js","containers/Home/components/HomeHeader/index.js","components/Footer/index.js","containers/Home/components/Activity/index.js","containers/Home/index.js","components/Banner/index.js"],"names":["dataSource","name","src","Category","className","dots","arrows","slidesToShow","swipeToSlide","autoplay","map","section","index","item","i","alt","Component","pic","title","url","Headline","vertical","href","Discount","data","this","props","to","id","width","height","picture","shop","currentPrice","oldPrice","LikeItem","tag","product","saleDesc","Loading","LikeList","handScroll","scrollTop","document","documentElement","body","scrollTo","screenHeight","clientHeight","likeListTop","myRef","current","offsetTop","likeListHeight","offsetHeight","console","log","fetchData","React","createRef","removeListener","pageCount","ref","addEventListener","removeEventListener","HomeHeader","Footer","Activity","Home","fetchMoreLikes","homeActions","loadLikes","likes","discounts","Banner","loadDiscounts","connect","state","getLikes","getDiscounts","getPageCountOfLikes","dispatch","bindActionCreators","style","dark","backgroundImage"],"mappings":"yNAIMA,G,MAAa,CACf,CACE,CACEC,KAAM,2BACNC,IACE,2EAEJ,CACED,KAAM,eACNC,IAAK,iEAEP,CACED,KAAM,2BACNC,IAAK,qEAEP,CACED,KAAM,eACNC,IAAK,gEAEP,CACED,KAAM,eACNC,IAAK,gEAEP,CACED,KAAM,eACNC,IAAK,gEAEP,CACED,KAAM,eACNC,IAAK,+DAEP,CACED,KAAM,2BACNC,IAAK,6DAEP,CACED,KAAM,MACNC,IAAK,qEAEP,CACED,KAAM,2BACNC,IAAK,iEAGT,CACE,CACED,KAAM,2BACNC,IAAK,uEAEP,CACED,KAAM,eACNC,IAAK,kEAEP,CACED,KAAM,eACNC,IAAK,+DAEP,CACED,KAAM,2BACNC,IAAK,kEAEP,CACED,KAAM,eACNC,IAAK,sEAEP,CACED,KAAM,eACNC,IAAK,+DAEP,CACED,KAAM,eACNC,IAAK,gEAEP,CACED,KAAM,eACNC,IAAK,mEAEP,CACED,KAAM,2BACNC,IAAK,mDAEP,CACED,KAAM,2BACNC,IAAK,iEAGT,CACE,CACED,KAAM,2BACNC,IACE,wEAEJ,CACED,KAAM,qBACNC,IAAK,kEAEP,CACED,KAAM,qBACNC,IAAK,qEAEP,CACED,KAAM,eACNC,IAAK,+DAEP,CACED,KAAM,2BACNC,IAAK,gEAEP,CACED,KAAM,kBACNC,IAAK,iEAEP,CACED,KAAM,eACNC,IAAK,kEAEP,CACED,KAAM,2BACNC,IAAK,sEAEP,CACED,KAAM,2BACNC,IAAK,oEAEP,CACED,KAAM,2BACNC,IAAK,iEA8CEC,E,uKA/BP,OACI,qBAAKC,UAAU,WAAf,SACI,cAAC,IAAD,2BATS,CACbC,MAAM,EACNC,QAAQ,EACRC,aAAc,EACdC,cAAc,EACdC,UAAU,IAIN,aAEQT,EAAWU,KAAI,SAACC,EAASC,GACrB,OACI,8BAEQD,EAAQD,KAAI,SAACG,EAAMC,GACf,OACI,sBAAKV,UAAU,oBAAf,UACI,qBAAKA,UAAU,iBAAiBF,IAAKW,EAAKX,IAAKa,IAAI,KACnD,8BACI,sBAAMX,UAAU,iBAAhB,SACKS,EAAKZ,WAJsBa,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","file":"static/js/3.e0281d1d.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport Slider from 'react-slick'\r\nimport './style.css'\r\n\r\nconst dataSource = [\r\n    [\r\n      {\r\n        name: \"猫眼电影\",\r\n        src:\r\n          \"https://www.dpfile.com/sc/eleconfig/20170223152109dp_wx_maoyan_icon.png\"\r\n      },\r\n      {\r\n        name: \"酒店\",\r\n        src: \"https://www.dpfile.com/sc/eleconfig/20160126203337jiudian.png\"\r\n      },\r\n      {\r\n        name: \"休闲娱乐\",\r\n        src: \"https://www.dpfile.com/sc/eleconfig/20160126202841xiuxianyule.png\"\r\n      },\r\n      {\r\n        name: \"外卖\",\r\n        src: \"https://www.dpfile.com/sc/eleconfig/20160126203251waimai.png\"\r\n      },\r\n      {\r\n        name: \"火锅\",\r\n        src: \"https://www.dpfile.com/sc/eleconfig/20160204172927huoguo.png\"\r\n      },\r\n      {\r\n        name: \"美食\",\r\n        src: \"https://www.dpfile.com/sc/eleconfig/20160126194705meishi.png\"\r\n      },\r\n      {\r\n        name: \"丽人\",\r\n        src: \"https://www.dpfile.com/sc/eleconfig/20160126202946liren.png\"\r\n      },\r\n      {\r\n        name: \"休闲娱乐\",\r\n        src: \"https://www.dpfile.com/sc/eleconfig/20160126203542ktv.png\"\r\n      },\r\n      {\r\n        name: \"KTV\",\r\n        src: \"https://www.dpfile.com/sc/eleconfig/20160126203440zhoubianyou.png\"\r\n      },\r\n      {\r\n        name: \"婚纱摄影\",\r\n        src: \"https://www.dpfile.com/sc/eleconfig/20160126203830jiehun.png\"\r\n      }\r\n    ],\r\n    [\r\n      {\r\n        name: \"生活服务\",\r\n        src: \"https://www.dpfile.com/sc/eleconfig/20170308125500community_new.png\"\r\n      },\r\n      {\r\n        name: \"景点\",\r\n        src: \"https://www.dpfile.com/sc/eleconfig/20160126205135jingguan.png\"\r\n      },\r\n      {\r\n        name: \"爱车\",\r\n        src: \"https://www.dpfile.com/sc/eleconfig/20160126203742aiche.png\"\r\n      },\r\n      {\r\n        name: \"运动健身\",\r\n        src: \"https://www.dpfile.com/sc/eleconfig/20160126203617jianshen.png\"\r\n      },\r\n      {\r\n        name: \"购物\",\r\n        src: \"https://www.dpfile.com/sc/eleconfig/20160314121215icongouwu135.png\"\r\n      },\r\n      {\r\n        name: \"亲子\",\r\n        src: \"https://www.dpfile.com/sc/eleconfig/20160126203905qinzi.png\"\r\n      },\r\n      {\r\n        name: \"到家\",\r\n        src: \"https://www.dpfile.com/sc/eleconfig/20160126203812daojia.png\"\r\n      },\r\n      {\r\n        name: \"家装\",\r\n        src: \"https://www.dpfile.com/sc/eleconfig/20161213162031zhuangxiu.png\"\r\n      },\r\n      {\r\n        name: \"学习培训\",\r\n        src: \"https://www.dpfile.com/gp/cms/1455525720807.png\"\r\n      },\r\n      {\r\n        name: \"医疗健康\",\r\n        src: \"https://www.dpfile.com/sc/eleconfig/20160126204327yiliao.png\"\r\n      }\r\n    ],\r\n    [\r\n      {\r\n        name: \"小吃快餐\",\r\n        src:\r\n          \"https://www.dpfile.com/sc/eleconfig/20160204173331xiaochikuaican.png\"\r\n      },\r\n      {\r\n        name: \"自助餐\",\r\n        src: \"https://www.dpfile.com/sc/eleconfig/20160204173511zizhucan.png\"\r\n      },\r\n      {\r\n        name: \"日本菜\",\r\n        src: \"https://www.dpfile.com/sc/eleconfig/20160415121719rihanliaoli.png\"\r\n      },\r\n      {\r\n        name: \"美发\",\r\n        src: \"https://www.dpfile.com/sc/eleconfig/20160316142804meifa.png\"\r\n      },\r\n      {\r\n        name: \"美甲美瞳\",\r\n        src: \"https://www.dpfile.com/sc/eleconfig/20160316143047meijia.png\"\r\n      },\r\n      {\r\n        name: \"美容SPA\",\r\n        src: \"https://www.dpfile.com/sc/eleconfig/20160316143239meirong.png\"\r\n      },\r\n      {\r\n        name: \"瘦身\",\r\n        src: \"https://www.dpfile.com/sc/eleconfig/20160316143316shoushen.png\"\r\n      },\r\n      {\r\n        name: \"亲子摄影\",\r\n        src: \"https://www.dpfile.com/sc/eleconfig/20160316143612qinzisheying.png\"\r\n      },\r\n      {\r\n        name: \"亲子娱乐\",\r\n        src: \"https://www.dpfile.com/sc/eleconfig/20160316143656qinziyoule.png\"\r\n      },\r\n      {\r\n        name: \"全部分类\",\r\n        src: \"https://www.dpfile.com/sc/eleconfig/20160125182200more.png\"\r\n      }\r\n    ]\r\n  ];\r\n\r\n  \r\nclass Category extends Component {\r\n    render() {\r\n        const settings = {\r\n            dots: true,\r\n            arrows: false,\r\n            slidesToShow: 1, //每屏展示几页信息\r\n            swipeToSlide: true, //可以通过拖动触发\r\n            autoplay: true\r\n        }\r\n        return (\r\n            <div className='category'>\r\n                <Slider {...settings}>\r\n                    {\r\n                        dataSource.map((section, index) => {\r\n                            return (\r\n                                <div key={index}>\r\n                                    {\r\n                                        section.map((item, i) => {\r\n                                            return (\r\n                                                <div className='category__section' key={i}>\r\n                                                    <img className='category__icon' src={item.src} alt=''/>\r\n                                                    <div>\r\n                                                        <span className='category__text'>\r\n                                                            {item.name}\r\n                                                        </span>\r\n                                                    </div>\r\n                                                </div>\r\n                                            )\r\n                                        })\r\n                                    }\r\n                                </div>\r\n                            )\r\n                        })\r\n                    }\r\n                </Slider>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Category;","import React, { Component } from \"react\";\r\nimport Slider from \"react-slick\";\r\nimport './style.css'\r\n\r\nconst dataSource = [\r\n    {\r\n        pic:\r\n          \"https://p1.meituan.net/gpa/5ee6d6d00d942804557c73abff79b855116489.jpg%40100w_100h_1e_1c_1l%7Cwatermark%3D1%26%26r%3D1%26p%3D9%26x%3D20%26y%3D20\",\r\n        title: \"精选专题：2017好物盘点\",\r\n        url:\r\n          \"https://h5.dianping.com/app/h5-ranklist-static/list_nearby.html?collectionId=227&source=weixinM\"\r\n      },\r\n      {\r\n        pic:\r\n          \"https://p0.meituan.net/gpa/387438cef7e2bb9eff5b701dde173f27268549.png%40100w_100h_1e_1c_1l%7Cwatermark%3D1%26%26r%3D1%26p%3D9%26x%3D20%26y%3D20\",\r\n        title: \"不比出国差，短假期选这些地方玩！当天都来得及去哦～\",\r\n        url:\r\n          \"https://h5.dianping.com/app/h5-ranklist-static/list_nearby.html?headlineId=394055&source=weixinM\"\r\n      },\r\n      {\r\n        pic:\r\n          \"https://p1.meituan.net/gpa/fbd325713d43366810452c38fc0e32e1945185.png%40100w_100h_1e_1c_1l%7Cwatermark%3D1%26%26r%3D1%26p%3D9%26x%3D20%26y%3D20\",\r\n        title: \"吓到腿软！12条恐怖玻璃栈道，敢去吗？\",\r\n        url:\r\n          \"https://h5.dianping.com/app/h5-ranklist-static/list_nearby.html?headlineId=484549&source=weixinM\"\r\n      }\r\n];\r\n\r\nclass Headline extends Component {\r\n  render() {\r\n    const settings = {\r\n      slidesToShow: 1,\r\n      swipeToSlide: true,\r\n      autoplay: true,\r\n      vertical: true,\r\n    };\r\n    return (\r\n      <div className=\"headline\">\r\n        <div className=\"headline__logo\"></div>\r\n        <div className=\"headline__slider\">\r\n          <Slider {...settings}>\r\n            {dataSource.map((item, index) => {\r\n              return (\r\n                <a\r\n                  key={index}\r\n                  className=\"headline__sliderInner\"\r\n                  href={item.url}\r\n                >\r\n                  <div className=\"headline__sliderTitle\">{item.title}</div>\r\n                  <div className=\"headline__sliderImgWrapper\">\r\n                    <img className=\"headline__sliderImg\" src={item.pic} alt='\r\n                    '/>\r\n                  </div>\r\n                </a>\r\n              );\r\n            })}\r\n          </Slider>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Headline;\r\n","import React, { Component } from \"react\";\r\nimport {Link} from \"react-router-dom\"\r\nimport \"./style.css\";\r\n\r\nclass Discount extends Component {\r\n  render() {\r\n    const { data } = this.props;\r\n    return (\r\n      <div className=\"discount\">\r\n        <a className=\"discount__header\" href=\"\">\r\n          <span className=\"discount__title\">超级特惠</span>\r\n          <span className=\"discount__more\">更多优惠</span>\r\n          <span className=\"discount__arrow\"></span>\r\n        </a>\r\n        <div className=\"discount__content\">\r\n          {data.map((item, index) => {\r\n            return (\r\n              <Link to={`/detail/${item.id}`} key={item.id} className=\"discount__item\">\r\n                <div className=\"discount__itemPic\">\r\n                  <img width=\"100%\" height=\"100%\" src={item.picture} alt=\"\" />\r\n                </div>\r\n                <div className=\"discount__itemTitle\">{item.shop}</div>\r\n                <div className=\"discount__itemPriceWrapper\">\r\n                  <ins className=\"discount__itemCurrentPrice\">\r\n                    {item.currentPrice}\r\n                  </ins>\r\n                  <del className=\"discount__itemOldPrice\">{item.oldPrice}</del>\r\n                </div>\r\n              </Link>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Discount;\r\n","import React, { Component } from \"react\";\r\nimport {Link} from \"react-router-dom\"\r\nimport \"./style.css\";\r\n\r\nclass LikeItem extends Component {\r\n  render() {\r\n    const {\r\n      id,\r\n      shop,\r\n      tag,\r\n      picture,\r\n      product,\r\n      currentPrice,\r\n      oldPrice,\r\n      saleDesc,\r\n    } = this.props.data;\r\n    return (\r\n      <Link to={`/detail/${id}`} className=\"likeItem\">\r\n        <div className=\"likeItem__picContainer\">\r\n          <div className=\"likeItem__picTag\">{tag}</div>\r\n          <img alt=\"\" className=\"likeItem__pic\" src={picture} />\r\n        </div>\r\n        <div className=\"likeItem__content\">\r\n          <div className=\"likeItem__shop\">{shop}</div>\r\n          <div className=\"likeItem__product\">{product}</div>\r\n          <div className=\"likeItem__detail\">\r\n            <div className=\"likeItem__price\">\r\n              <ins className=\"likeItem__currentPrice\">{currentPrice}</ins>\r\n              <del className=\"likeItem__oldPrice\">{oldPrice}</del>\r\n            </div>\r\n            <div className=\"likeItem__sale\">{saleDesc}</div>\r\n          </div>\r\n        </div>\r\n      </Link>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LikeItem;\r\n","import React, { Component } from 'react';\r\nimport './style.css';\r\n\r\nclass Loading extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"loading\"> \r\n                <div className=\"loading__img\"/>\r\n                <span>正在加载...</span>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Loading;","import React, { Component } from \"react\";\r\nimport \"./style.css\";\r\nimport LikeItem from \"../LikeItem\";\r\nimport Loading from \"../../../../components/Loading\";\r\n\r\nclass LikeList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.myRef = React.createRef()\r\n    this.removeListener = false;\r\n  }\r\n  render() {\r\n    const { data, pageCount } = this.props;\r\n    return (\r\n      <div ref={this.myRef} className=\"likeList\">\r\n        <div className=\"likeList__header\">猜你喜欢</div>\r\n        <div className=\"likeList__list\">\r\n          {data.map((item, index) => {\r\n            return <LikeItem key={index} data={item} />;\r\n          })}\r\n        </div>\r\n        {pageCount < 3 ? (\r\n          <Loading />\r\n        ) : (\r\n          <a className=\"likeList__viewAll\">查看更多</a>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  componentDidMount() {\r\n    if(this.props.pageCount < 3) {\r\n      document.addEventListener(\"scroll\", this.handScroll);\r\n    } else {\r\n      this.removeListener = true;\r\n    }\r\n    \r\n    if(this.props.pageCount === 0) {\r\n      this.props.fetchData();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate() {\r\n      if(this.props.pageCount >= 3 ){\r\n        document.removeEventListener(\"scroll\", this.handScroll);\r\n        this.removeListener = true;\r\n      }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    !this.removeListener && document.removeEventListener(\"scroll\", this.handScroll);\r\n  }\r\n\r\n  handScroll = () => {\r\n    const scrollTop = document.documentElement.scrollTop || document.body.scrollTo;\r\n    const screenHeight = document.documentElement.clientHeight;\r\n    const likeListTop = this.myRef.current.offsetTop;\r\n    const likeListHeight = this.myRef.current.offsetHeight;\r\n    console.log(likeListHeight);\r\n    if(scrollTop >= likeListHeight + likeListTop - screenHeight) {\r\n        this.props.fetchData()\r\n    }\r\n  }\r\n}\r\n\r\nexport default LikeList;\r\n","import React, { Component } from 'react';\r\nimport {Link} from \"react-router-dom\"\r\nimport './style.css';\r\n\r\nclass HomeHeader extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"homeHeader\">\r\n                <header className=\"homeHeader__wrapper\">\r\n                    <a className=\"homeHeader__city\">北京</a>\r\n                    <Link to=\"/search\" className=\"homeHeader__search\">输入商户名,地点</Link>\r\n                    <Link to=\"/user\" className=\"homeHeader__self\">\r\n                        <div className=\"homeHeader__portrait\"></div>\r\n                    </Link>\r\n                </header>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default HomeHeader;","import React, { Component } from 'react'\r\nimport './style.css'\r\n\r\nclass Footer extends Component {\r\n  render () {\r\n    return (\r\n      <footer className='footer'>\r\n        <a className='footer__link' href=\"https://m.dianping.com/nmy/myinfo\">\r\n          我的\r\n        </a>\r\n        <em className=\"footer__seperator\">|</em>\r\n        <a className='footer__link' href=\"https://m.dianping.com/nmy/myinfo\">\r\n          社区论坛\r\n        </a>\r\n        <em className=\"footer__seperator\">|</em>\r\n        <a className='footer__link' href=\"https://m.dianping.com/nmy/myinfo\">\r\n          添加商户\r\n        </a>\r\n        <em className=\"footer__seperator\">|</em>\r\n        <a className='footer__link' href=\"https://m.dianping.com/nmy/myinfo\">\r\n          意见反馈\r\n        </a>\r\n        <br/>\r\n        <a className='footer__link' href=\"https://m.dianping.com/nmy/myinfo\">\r\n          美团网\r\n        </a>\r\n        <em className=\"footer__seperator\">|</em>\r\n        <a className='footer__link' href=\"https://m.dianping.com/nmy/myinfo\">\r\n          美团下载\r\n        </a>\r\n        <em className=\"footer__seperator\">|</em>\r\n        <a className='footer__link' href=\"https://m.dianping.com/nmy/myinfo\">\r\n          结婚\r\n        </a>\r\n        <em className=\"footer__seperator\">|</em>\r\n        <a className='footer__link' href=\"https://m.dianping.com/nmy/myinfo\">\r\n          亲子\r\n        </a>\r\n        <em className=\"footer__seperator\">|</em>\r\n        <a className='footer__link' href=\"https://m.dianping.com/nmy/myinfo\">\r\n          家装\r\n        </a>\r\n        <em className=\"footer__seperator\">|</em>\r\n        <a className='footer__link' href=\"https://m.dianping.com/nmy/myinfo\">\r\n          宴会\r\n        </a>\r\n        <em className=\"footer__seperator\">|</em>\r\n        <a className='footer__link' href=\"https://m.dianping.com/nmy/myinfo\">\r\n          教育\r\n        </a>\r\n        <br/>\r\n        <a className='footer__link' href=\"https://m.dianping.com/nmy/myinfo\">\r\n          电脑版\r\n        </a>\r\n        <em className=\"footer__seperator\">|</em>\r\n        <a className='footer__link' href=\"https://m.dianping.com/nmy/myinfo\">\r\n          客户端\r\n        </a>\r\n        <em className=\"footer__seperator\">|</em>\r\n        <br/>\r\n        <p className=\"footer__copyright\">copyright ©2018 dianping.com</p>\r\n      </footer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Footer","import React, { Component } from \"react\";\r\nimport \"./style.css\";\r\n\r\nclass Activity extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"activity\">\r\n        <div className=\"activity__block\">\r\n          <a\r\n            className=\"activity__content activity__content--pink\"\r\n            href=\"https://h5.dianping.com/app/ziggurat/1005/index.html?activity_tlt=1005&infrom=mzone\"\r\n          >\r\n            <div className=\"activity__title\">最高88元</div>\r\n            <div className=\"activity__subTitle activity__subTitle--pink\">\r\n              速领新人红包\r\n            </div>\r\n            <img\r\n              alt=\"\"\r\n              className=\"activity__pic\"\r\n              src=\"https://op.meituan.net/oppkit_pic/20160310032241-1e027deb-2/a3a31fff2e047a907a53d6488877f7fe.png\"\r\n            />\r\n          </a>\r\n        </div>\r\n        <div className=\"activity__block\">\r\n          <a\r\n            className=\"activity__content activity__content--blue\"\r\n            href=\"//h5.dianping.com/app/ziggurat/1361/index.html?notitlebar=1&token=*&latitude=*&longitude=*&activity_tlt=1361&infrom=mzone\"\r\n          >\r\n            <div className=\"activity__title\">品质福利放送</div>\r\n            <div className=\"activity__subTitle activity__subTitle--blue\">\r\n              享吃喝玩乐礼\r\n            </div>\r\n            <img\r\n              alt=\"\"\r\n              className=\"activity__pic\"\r\n              src=\"https://op.meituan.net/oppkit_pic/20160310032241-1e027deb-2/a9b8c52c341892600ff7260c89025a59.png\"\r\n            />\r\n          </a>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Activity;\r\n","import React, { Component } from \"react\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport Category from \"./components/Category\";\r\nimport Headline from \"./components/Headline\";\r\nimport Discount from \"./components/Discount\";\r\nimport LikeList from \"./components/LikeList\";\r\nimport HomeHeader from \"./components/HomeHeader\";\r\nimport Footer from \"../../components/Footer\";\r\nimport Banner from \"../../components/Banner\";\r\nimport Activity from \"./components/Activity\";\r\nimport {\r\n  actions as homeActions,\r\n  getLikes,\r\n  getDiscounts,\r\n  getPageCountOfLikes,\r\n} from \"../../redux/modules/home\";\r\n\r\nclass Home extends Component {\r\n  render() {\r\n    const { likes, discounts, pageCount } = this.props;\r\n    return (\r\n      <div>\r\n        <HomeHeader />\r\n        <Banner />\r\n        <Category />\r\n        <Headline />\r\n        <Activity />\r\n        <Discount data={discounts} />\r\n        <LikeList\r\n          data={likes}\r\n          pageCount={pageCount}\r\n          fetchData={this.fetchMoreLikes}\r\n        />\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  fetchMoreLikes = () => {\r\n    console.log(this.props.pageCount);\r\n    this.props.homeActions.loadLikes();\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.homeActions.loadDiscounts();\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, props) => {\r\n  return {\r\n    likes: getLikes(state),\r\n    discounts: getDiscounts(state),\r\n    pageCount: getPageCountOfLikes(state),\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    homeActions: bindActionCreators(homeActions, dispatch),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\r\n","import React, { Component } from 'react'\r\nimport './style.css'\r\n\r\nclass Banner extends Component {\r\n  render () {\r\n    const { dark } =  this.props;\r\n    const style = dark ? {backgroundImage: 'url(https://www.dpfile.com/app/node-mobile-m-isomorphism-web/static/ee72da6bea423a71f81c4e0be8a1dcf7.png)'} : null;\r\n    return (\r\n      <header className='banner' style={style}>\r\n        <div className='banner__title'>\r\n          <span className='banner__logo'/>\r\n          <span className='banner__text'>吃喝玩乐，找优惠</span>\r\n        </div>\r\n        <div className='banner__btns'>\r\n          <a className='banner__btn' href='https://evt.dianping.com/synthesislink/6702.html'>打开大众点评</a>\r\n          <a className='banner__btn banner__btn--bg' href='https://m.dianping.com/download/redirect?id=11186'>下载APP享特价</a>\r\n        </div>\r\n      </header>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Banner"],"sourceRoot":""}